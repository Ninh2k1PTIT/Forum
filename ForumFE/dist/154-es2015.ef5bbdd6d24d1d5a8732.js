"use strict";(self.webpackChunkang2_forum=self.webpackChunkang2_forum||[]).push([[154],{6154:function(t,i,e){e.r(i),e.d(i,{ProfileModule:function(){return A}});var n=e(5304),r=e(3018),o=e(3216),s=e(952);let c=(()=>{class t{constructor(t,i){this.profilesService=t,this.router=i}resolve(t,i){return this.profilesService.get(t.params.id).pipe((0,n.K)(t=>this.router.navigateByUrl("/")))}}return t.\u0275fac=function(i){return new(i||t)(r.LFG(o.L0),r.LFG(s.F0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();var a=e(4584),u=e(870);let l=(()=>{class t{constructor(t,i){this.route=t,this.router=i,this.articlesConfig={type:"all",filters:{}}}ngOnInit(){this.route.parent.data.subscribe(t=>{this.profile=t.profile,this.articlesConfig={type:"all",filters:{}},this.articlesConfig.filters.author=this.profile.username,this.articlesConfig.filters.userId=this.profile.id})}}return t.\u0275fac=function(i){return new(i||t)(r.Y36(s.gz),r.Y36(s.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-profile-articles"]],decls:1,vars:2,consts:[[3,"limit","config"]],template:function(t,i){1&t&&r._UZ(0,"app-article-list",0),2&t&&r.Q6J("limit",10)("config",i.articlesConfig)},directives:[u.P],encapsulation:2}),t})(),f=(()=>{class t{constructor(t){this.route=t,this.favoritesConfig={type:"all",filters:{}}}ngOnInit(){this.route.parent.data.subscribe(t=>{this.profile=t.profile,this.favoritesConfig.filters.favorited=this.profile.username})}}return t.\u0275fac=function(i){return new(i||t)(r.Y36(s.gz))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-profile-favorites"]],decls:1,vars:2,consts:[[3,"limit","config"]],template:function(t,i){1&t&&r._UZ(0,"app-article-list",0),2&t&&r.Q6J("limit",10)("config",i.favoritesConfig)},directives:[u.P],encapsulation:2}),t})();var p=e(4612),h=e(3342),g=e(8259),d=e.n(g),m=e(8583);function v(t,i){1&t&&(r.TgZ(0,"div"),r._UZ(1,"i",11),r._uU(2," V\xf4 hi\u1ec7u h\xf3a t\xe0i kho\u1ea3n n\xe0y "),r.qZA())}function b(t,i){1&t&&(r.TgZ(0,"div"),r._UZ(1,"i",12),r._uU(2," K\xedch ho\u1ea1t t\xe0i kho\u1ea3n n\xe0y "),r.qZA())}const Z=function(){return["/settings"]},T=[{path:":id",component:(()=>{class t{constructor(t,i){this.route=t,this.userService=i,this.isAdmin=!1}ngOnInit(){var t,i;(null===(i=null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.roles)||void 0===i?void 0:i.includes("ROLE_ADMIN"))&&(this.isAdmin=!0),this.route.data.pipe((0,p.b)(t=>(this.profile=t.profile,console.log(this.profile),this.userService.currentUser.pipe((0,h.b)(t=>{this.currentUser=t,this.isUser=this.currentUser.username===this.profile.username}))))).subscribe()}setStatus(){this.profile.active?d().fire({title:`V\xf4 hi\u1ec7u h\xf3a t\xe0i kho\u1ea3n ${this.profile.username}`,text:"T\xe0i kho\u1ea3n n\xe0y s\u1ebd kh\xf4ng th\u1ec3 \u0111\u0103ng c\xe2u h\u1ecfi, tr\u1ea3 l\u1eddi hay \u0111\xe1nh gi\xe1.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7367F0",cancelButtonColor:"#E42728",confirmButtonText:"\u0110\xfang",cancelButtonText:"H\u1ee7y",preConfirm:()=>{this.profile.active=!1,this.userService.update(this.profile.id,this.profile).subscribe()},customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"}}).then(function(t){t.value&&d().fire({icon:"success",title:"Th\xe0nh c\xf4ng",text:"T\xe0i kho\u1ea3n \u0111\xe3 b\u1ecb v\xf4 hi\u1ec7u h\xf3a",customClass:{confirmButton:"btn btn-success"}})}):d().fire({title:`K\xedch ho\u1ea1t t\xe0i kho\u1ea3n ${this.profile.username}`,text:"T\xe0i kho\u1ea3n n\xe0y c\xf3 th\u1ec3 \u0111\u0103ng c\xe2u h\u1ecfi, tr\u1ea3 l\u1eddi hay \u0111\xe1nh gi\xe1.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7367F0",cancelButtonColor:"#E42728",confirmButtonText:"\u0110\xfang",cancelButtonText:"H\u1ee7y",preConfirm:()=>{this.profile.active=!0,this.userService.update(this.profile.id,this.profile).subscribe()},customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"}}).then(function(t){t.value&&d().fire({icon:"success",title:"Th\xe0nh c\xf4ng",text:"T\xe0i kho\u1ea3n n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c k\xedch ho\u1ea1t",customClass:{confirmButton:"btn btn-success"}})})}}return t.\u0275fac=function(i){return new(i||t)(r.Y36(s.gz),r.Y36(o.KD))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-profile-page"]],decls:22,vars:11,consts:[[1,"profile-page"],[1,"user-info"],[1,"container"],[1,"row"],[1,"col-xs-12","col-md-10","offset-md-1"],[1,"user-img",3,"src","error"],["onclick","this.blur()",3,"hidden","click"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-secondary","action-btn",3,"routerLink","hidden"],[1,"ion-gear-a"],[1,"articles-toggle"],[1,"ion-close-round"],[1,"ion-checkmark-round"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"img",5),r.NdJ("error",function(t){return t.target.src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Avatar_icon_green.svg/1024px-Avatar_icon_green.svg.png"}),r.qZA(),r.TgZ(6,"h4"),r._uU(7),r.qZA(),r.TgZ(8,"p"),r._uU(9),r.qZA(),r.TgZ(10,"div"),r.TgZ(11,"button",6),r.NdJ("click",function(){return i.setStatus()}),r.YNc(12,v,3,0,"div",7),r.YNc(13,b,3,0,"div",7),r.qZA(),r.qZA(),r.TgZ(14,"a",8),r._UZ(15,"i",9),r._uU(16," S\u1eeda th\xf4ng tin "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",2),r.TgZ(18,"div",3),r.TgZ(19,"div",4),r._UZ(20,"div",10),r._UZ(21,"router-outlet"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(5),r.Q6J("src",i.profile.avatar,r.LSH),r.xp6(2),r.Oqu(i.profile.username),r.xp6(2),r.Oqu(i.profile.aboutMe),r.xp6(2),r.Tol(i.profile.active?"btn btn-sm btn-danger":"btn btn-sm btn-success"),r.Q6J("hidden",!i.isAdmin),r.xp6(1),r.Q6J("ngIf",i.profile.active),r.xp6(1),r.Q6J("ngIf",!i.profile.active),r.xp6(1),r.Q6J("routerLink",r.DdM(10,Z))("hidden",!i.isUser))},directives:[m.O5,s.yS,s.lC],encapsulation:2}),t})(),resolve:{profile:c},children:[{path:"",component:l},{path:"favorites",component:f}]}];let k=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[s.Bz.forChild(T)],s.Bz]}),t})(),A=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[c],imports:[[a.m8,k]]}),t})()}}]);