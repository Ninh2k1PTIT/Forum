"use strict";(self.webpackChunkang2_forum=self.webpackChunkang2_forum||[]).push([[224],{3224:function(t,e,r){r.r(e),r.d(e,{SettingsModule:function(){return l}});var s=r(4584),i=r(952),n=r(3216),o=r(3018),u=r(665),a=r(6860);const c=[{path:"",component:(()=>{class t{constructor(t,e,r){this.router=t,this.userService=e,this.fb=r,this.user={},this.errors=null,this.isSubmitting=!1,this.settingsForm=this.fb.group({aboutMe:"",avatar:"",active:""})}ngOnInit(){this.userService.getUserById(this.userService.getCurrentUser().id).subscribe(t=>{Object.assign(this.user,t),this.settingsForm.patchValue(this.user)})}logout(){this.userService.purgeAuth(),this.router.navigateByUrl("/")}submitForm(){this.isSubmitting=!0,this.userService.update(this.user.id,this.settingsForm.value).subscribe(t=>this.router.navigateByUrl("/profile/"+t.id),t=>{this.errors=t.message,this.isSubmitting=!1})}updateUser(t){Object.assign(this.user,t)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(i.F0),o.Y36(n.KD),o.Y36(u.qu))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-settings-page"]],decls:19,vars:3,consts:[[1,"settings-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"errors"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group"],["type","text","placeholder","URL \u1ea3nh \u0111\u1ea1i di\u1ec7n","formControlName","avatar",1,"form-control"],["rows","8","placeholder","M\xf4 t\u1ea3","formControlName","aboutMe",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"h1",4),o._uU(5,"C\xe0i \u0111\u1eb7t t\xe0i kho\u1ea3n"),o.qZA(),o._UZ(6,"app-list-errors",5),o.TgZ(7,"form",6),o.NdJ("ngSubmit",function(){return e.submitForm()}),o.TgZ(8,"fieldset",7),o.TgZ(9,"fieldset",8),o._UZ(10,"input",9),o.qZA(),o.TgZ(11,"fieldset",8),o.TgZ(12,"textarea",10),o._uU(13,"              "),o.qZA(),o.qZA(),o.TgZ(14,"button",11),o._uU(15," C\u1eadp nh\u1eadt "),o.qZA(),o.qZA(),o.qZA(),o._UZ(16,"hr"),o.TgZ(17,"button",12),o.NdJ("click",function(){return e.logout()}),o._uU(18," \u0110\u0103ng xu\u1ea5t "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(6),o.Q6J("errors",e.errors),o.xp6(1),o.Q6J("formGroup",e.settingsForm),o.xp6(1),o.Q6J("disabled",e.isSubmitting))},directives:[a.S,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u],encapsulation:2}),t})(),canActivate:[n.a1]}];let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[i.Bz.forChild(c)],i.Bz]}),t})(),l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[s.m8,g]]}),t})()}}]);