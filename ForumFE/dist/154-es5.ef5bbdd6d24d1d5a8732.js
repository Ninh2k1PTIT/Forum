!function(){"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function i(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),t}(self.webpackChunkang2_forum=self.webpackChunkang2_forum||[]).push([[154],{6154:function(n,e,r){r.r(e),r.d(e,{ProfileModule:function(){return B}});var o,c=r(5304),u=r(3018),s=r(3216),a=r(952),f=((o=function(){function n(i,e){t(this,n),this.profilesService=i,this.router=e}return i(n,[{key:"resolve",value:function(t,n){var i=this;return this.profilesService.get(t.params.id).pipe((0,c.K)(function(t){return i.router.navigateByUrl("/")}))}}]),n}()).\u0275fac=function(t){return new(t||o)(u.LFG(s.L0),u.LFG(a.F0))},o.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac}),o),l=r(4584),p=r(870),h=function(){var n=function(){function n(i,e){t(this,n),this.route=i,this.router=e,this.articlesConfig={type:"all",filters:{}}}return i(n,[{key:"ngOnInit",value:function(){var t=this;this.route.parent.data.subscribe(function(n){t.profile=n.profile,t.articlesConfig={type:"all",filters:{}},t.articlesConfig.filters.author=t.profile.username,t.articlesConfig.filters.userId=t.profile.id})}}]),n}();return n.\u0275fac=function(t){return new(t||n)(u.Y36(a.gz),u.Y36(a.F0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-profile-articles"]],decls:1,vars:2,consts:[[3,"limit","config"]],template:function(t,n){1&t&&u._UZ(0,"app-article-list",0),2&t&&u.Q6J("limit",10)("config",n.articlesConfig)},directives:[p.P],encapsulation:2}),n}(),g=function(){var n=function(){function n(i){t(this,n),this.route=i,this.favoritesConfig={type:"all",filters:{}}}return i(n,[{key:"ngOnInit",value:function(){var t=this;this.route.parent.data.subscribe(function(n){t.profile=n.profile,t.favoritesConfig.filters.favorited=t.profile.username})}}]),n}();return n.\u0275fac=function(t){return new(t||n)(u.Y36(a.gz))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-profile-favorites"]],decls:1,vars:2,consts:[[3,"limit","config"]],template:function(t,n){1&t&&u._UZ(0,"app-article-list",0),2&t&&u.Q6J("limit",10)("config",n.favoritesConfig)},directives:[p.P],encapsulation:2}),n}(),v=r(4612),d=r(3342),m=r(8259),b=r.n(m),Z=r(8583);function y(t,n){1&t&&(u.TgZ(0,"div"),u._UZ(1,"i",11),u._uU(2," V\xf4 hi\u1ec7u h\xf3a t\xe0i kho\u1ea3n n\xe0y "),u.qZA())}function k(t,n){1&t&&(u.TgZ(0,"div"),u._UZ(1,"i",12),u._uU(2," K\xedch ho\u1ea1t t\xe0i kho\u1ea3n n\xe0y "),u.qZA())}var T=function(){return["/settings"]},C=[{path:":id",component:function(){var n=function(){function n(i,e){t(this,n),this.route=i,this.userService=e,this.isAdmin=!1}return i(n,[{key:"ngOnInit",value:function(){var t,n,i=this;(null===(n=null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.roles)||void 0===n?void 0:n.includes("ROLE_ADMIN"))&&(this.isAdmin=!0),this.route.data.pipe((0,v.b)(function(t){return i.profile=t.profile,console.log(i.profile),i.userService.currentUser.pipe((0,d.b)(function(t){i.currentUser=t,i.isUser=i.currentUser.username===i.profile.username}))})).subscribe()}},{key:"setStatus",value:function(){var t=this;this.profile.active?b().fire({title:"V\xf4 hi\u1ec7u h\xf3a t\xe0i kho\u1ea3n ".concat(this.profile.username),text:"T\xe0i kho\u1ea3n n\xe0y s\u1ebd kh\xf4ng th\u1ec3 \u0111\u0103ng c\xe2u h\u1ecfi, tr\u1ea3 l\u1eddi hay \u0111\xe1nh gi\xe1.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7367F0",cancelButtonColor:"#E42728",confirmButtonText:"\u0110\xfang",cancelButtonText:"H\u1ee7y",preConfirm:function(){t.profile.active=!1,t.userService.update(t.profile.id,t.profile).subscribe()},customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"}}).then(function(t){t.value&&b().fire({icon:"success",title:"Th\xe0nh c\xf4ng",text:"T\xe0i kho\u1ea3n \u0111\xe3 b\u1ecb v\xf4 hi\u1ec7u h\xf3a",customClass:{confirmButton:"btn btn-success"}})}):b().fire({title:"K\xedch ho\u1ea1t t\xe0i kho\u1ea3n ".concat(this.profile.username),text:"T\xe0i kho\u1ea3n n\xe0y c\xf3 th\u1ec3 \u0111\u0103ng c\xe2u h\u1ecfi, tr\u1ea3 l\u1eddi hay \u0111\xe1nh gi\xe1.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#7367F0",cancelButtonColor:"#E42728",confirmButtonText:"\u0110\xfang",cancelButtonText:"H\u1ee7y",preConfirm:function(){t.profile.active=!0,t.userService.update(t.profile.id,t.profile).subscribe()},customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"}}).then(function(t){t.value&&b().fire({icon:"success",title:"Th\xe0nh c\xf4ng",text:"T\xe0i kho\u1ea3n n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c k\xedch ho\u1ea1t",customClass:{confirmButton:"btn btn-success"}})})}}]),n}();return n.\u0275fac=function(t){return new(t||n)(u.Y36(a.gz),u.Y36(s.KD))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-profile-page"]],decls:22,vars:11,consts:[[1,"profile-page"],[1,"user-info"],[1,"container"],[1,"row"],[1,"col-xs-12","col-md-10","offset-md-1"],[1,"user-img",3,"src","error"],["onclick","this.blur()",3,"hidden","click"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-secondary","action-btn",3,"routerLink","hidden"],[1,"ion-gear-a"],[1,"articles-toggle"],[1,"ion-close-round"],[1,"ion-checkmark-round"]],template:function(t,n){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"img",5),u.NdJ("error",function(t){return t.target.src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Avatar_icon_green.svg/1024px-Avatar_icon_green.svg.png"}),u.qZA(),u.TgZ(6,"h4"),u._uU(7),u.qZA(),u.TgZ(8,"p"),u._uU(9),u.qZA(),u.TgZ(10,"div"),u.TgZ(11,"button",6),u.NdJ("click",function(){return n.setStatus()}),u.YNc(12,y,3,0,"div",7),u.YNc(13,k,3,0,"div",7),u.qZA(),u.qZA(),u.TgZ(14,"a",8),u._UZ(15,"i",9),u._uU(16," S\u1eeda th\xf4ng tin "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(17,"div",2),u.TgZ(18,"div",3),u.TgZ(19,"div",4),u._UZ(20,"div",10),u._UZ(21,"router-outlet"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(5),u.Q6J("src",n.profile.avatar,u.LSH),u.xp6(2),u.Oqu(n.profile.username),u.xp6(2),u.Oqu(n.profile.aboutMe),u.xp6(2),u.Tol(n.profile.active?"btn btn-sm btn-danger":"btn btn-sm btn-success"),u.Q6J("hidden",!n.isAdmin),u.xp6(1),u.Q6J("ngIf",n.profile.active),u.xp6(1),u.Q6J("ngIf",!n.profile.active),u.xp6(1),u.Q6J("routerLink",u.DdM(10,T))("hidden",!n.isUser))},directives:[Z.O5,a.yS,a.lC],encapsulation:2}),n}(),resolve:{profile:f},children:[{path:"",component:h},{path:"favorites",component:g}]}],A=function(){var n=i(function n(){t(this,n)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[a.Bz.forChild(C)],a.Bz]}),n}(),B=function(){var n=i(function n(){t(this,n)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[f],imports:[[l.m8,A]]}),n}()}}])}();